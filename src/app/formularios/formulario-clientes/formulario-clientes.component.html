<div class="container">
    <h1>Agregar cliente</h1>
    <form #formulario="ngForm" (submit)="guardar()">
      <div class="form-group">
        <label for="nombre">Nombre cliente</label>
        <input type="text" class="form-control" name="nombre" [(ngModel)]="cliente.nombre" required id="nombre" #nombre="ngModel"/>
        <span class="form-text text-danger" *ngIf="!nombre.valid && nombre.touched">Nombre obligatorio</span>
      </div>

      <div class="form-group mt-2">
        <label for="categoria">Categoria</label>
        <select name="categoria" id="categoria" class="form-control" [(ngModel)]="cliente.categoria">
          <option *ngFor="let categoria of categorias" [value]="categoria.value">{{categoria.display}}</option>
        </select>
      </div>

      <div class="form-group mt-2">
        <label for="email">email</label>
        <input type="email" class="form-control" name="email" [(ngModel)]="cliente.email" id="email" required #email="ngModel"/>
        <span class="form-text text-danger" *ngIf="!email.valid && email.touched">Email obligatorio</span>
        <br>
        <span class="form-text text-danger" *ngIf="!isEmailValid(email.value) && email.touched">Email no válido.</span>
      </div>

      <div class="form-group mt-2">
        <label for="facturacionAnual">Facturación Anual</label>
        <input type="number" class="form-control" name="facturacionAnual" [(ngModel)]="cliente.facturacionAnual" id="facturacionAnual" required #facturacionAnual="ngModel" min="0"/>
        <span class="form-text text-danger" *ngIf="!facturacionAnual.valid && facturacionAnual.touched">Facturación obligatorio</span>
        <br>
        <span class="form-text text-danger" *ngIf="facturacionAnual.hasError('min')">Facturación debe ser un valor positivo</span>
      </div>

      <div class="form-group mt-2">
        <label for="localidad">Localidad</label>
        <input type="text" class="form-control" name="localidad" [(ngModel)]="cliente.localidad" id="localidad" required />
      </div>
      <div class="form-check mt-2">
          <input type="checkbox" class="form-check-input" name="moroso" [(ngModel)]="cliente.moroso" id="moroso"/>
          <label for="moroso" class="form-check-label">Moroso</label>
      </div>

      <p *ngIf="formulario.invalid" class="text-danger">Formulario incompleto y/o con errores</p>
      <p *ngIf="formulario.valid" class="text-success">Formulario correcto</p>

      <button type="submit" class="btn btn-primary" [disabled]="formulario.invalid">
        Aceptar
      </button>

      <div class="alert alert-success" role="alert" *ngIf="formulario.submitted">
        Datos enviados
      </div>
    </form>
  
    <div class="my-2" style="border-radius: 5px; padding: 10px; border: 1px solid; background-color: lightgray">
      <div>Detalles del formulario:</div>
      <pre>¿Es válido?: <br>{{formulario.valid }}</pre>
      <pre>¿Se ha aceptado?: <br>{{formulario.submitted }}</pre>
    </div>
  </div>
  


  

<!-- // Actividad. Sobre la actividad anterior, mejorar el formulario de acuerdo a lo siguiente
// La familia del producto será una lista desplegable con los valores: hogar, alimientación y tecnología
// La propiedad moroso será un checkbox
// Sacar errores personalizados si:
// El nombre no se incluye (deberá ser obligatorio)
// La facturacionAnual sea inferior a 0 -->
